{"ast":null,"code":"var _jsxFileName = \"/Users/joshuaadams/Documents/BOM/src/Client/Pages/Profile/EventDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport RegistrationTile from './RegistrationTile';\nimport { useSnackbar } from 'notistack';\nimport dateFormat from 'dateformat';\nimport dompurify from 'dompurify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EventDetails = props => {\n  _s();\n\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = useSnackbar();\n  const [bomEvent, setbomEvent] = useState([]);\n  const [registrations, setRegistrations] = useState([]);\n  console.log(JSON.stringify(props));\n  const params = useParams();\n  const [contentLoaded, setContentLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const eventid = params.eventid;\n  const history = useHistory();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        axios.all([axios.get('https://bomreactapi.azurewebsites.net/events/geteventsinfo?eventid=' + eventid), axios.get('https://bomreactapi.azurewebsites.net/events/getregistrations?eventid=' + eventid)]).then(response => {\n          setbomEvent(response[0].data);\n          setRegistrations(response[1].data);\n          enqueueSnackbar('Event fetch success');\n          setIsLoading(false);\n          setContentLoaded(true);\n        });\n      } catch (error) {\n        setError(true);\n        setContentLoaded(false);\n        enqueueSnackbar('Event fetch failed');\n      }\n    };\n\n    if (!contentLoaded) {\n      fetchData();\n      setContentLoaded(true);\n      setIsLoading(false);\n    }\n  }, []);\n  const bgImageStyle = {\n    background: `url(\"/Images/eventBanner.jpg\") no-repeat center center`,\n    backgroundSize: 'cover'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"banner\",\n      className: \"full-row\",\n      style: bgImageStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-uppercase\",\n                children: bomEvent.BP_Title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: bomEvent.BP_Description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-row light-blue\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row text-white pt-3 mb-0 event-highlights\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col pt-3 pb-2 right-divide\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: bomEvent.BP_Address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col pt-3 pb-2 right-divide\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Dates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), bomEvent.BP_ShowDatesOnly ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: dateFormat(bomEvent.BP_StartDate, \"dddd, mmmm dS, yyyy\") + \" - \" + dateFormat(bomEvent.BP_EndDate, \"dddd, mmmm dS, yyyy\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: dateFormat(bomEvent.BP_StartDate, \"dddd, mmmm dS, yyyy, h:MM:ss TT\") + \" - \" + dateFormat(bomEvent.BP_EndDate, \"dddd, mmmm dS, yyyy, h:MM:ss TT\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col pt-3 pb-2 right-divide\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \" Costs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Travel, Vehicle Rental and Some Food Costs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-row white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: bomEvent.BP_Reserved ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"reserved-label\",\n                children: \"Reserved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"reserved-copy\",\n                children: bomEvent.BP_ReservedText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 65\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 13\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-row white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-between pt-4 pb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-8 pb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: dompurify.sanitize(bomEvent === null || bomEvent === void 0 ? void 0 : bomEvent.BP_Description)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 pb-3\",\n            children: bomEvent.NCBM_Managed ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [bomEvent.BP_Coordinator, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 43\n                }, this), bomEvent.ShowCoordinatorEmail ? /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"mailto:mabernathy@ncbaptist.org\",\n                  children: \"mabernathy@ncbaptist.org\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 51\n                }, this) : \"\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 133\n                }, this), bomEvent.ShowCoordinatorPhone ? \"(919) 459-5607\" : \"\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [bomEvent.BP_Administrator, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 45\n                }, this), bomEvent.BP_ShowAdministratorEmail ? /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"mailto:mcrawford@ncbaptist.org\",\n                  children: \"mcrawford@ncbaptist.org\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 55\n                }, this) : \"\", bomEvent.BP_ShowAdministratorPhone ? \"Admin Phone Number\" : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [bomEvent.BP_ContactName, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"mailto:\" + bomEvent.BP_ContactEmail,\n                  children: bomEvent.BP_ContactEmail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 98\n                }, this), bomEvent.BP_ContactPhone, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"This event is not managed by NCBM.  If you have any questions please contact the email address or phone number above.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: registrations.map(reg => /*#__PURE__*/_jsxDEV(RegistrationTile, {\n        Registration: reg\n      }, reg.RegistrationID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 1\n  }, this);\n};\n\n_s(EventDetails, \"h91YIbsMnVqiFi19PrR9cme/Iho=\", false, function () {\n  return [useSnackbar, useParams, useHistory];\n});\n\n_c = EventDetails;\nexport default EventDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventDetails\");","map":{"version":3,"sources":["/Users/joshuaadams/Documents/BOM/src/Client/Pages/Profile/EventDetails.js"],"names":["React","useState","useEffect","axios","useHistory","useParams","Link","RegistrationTile","useSnackbar","dateFormat","dompurify","EventDetails","props","enqueueSnackbar","closeSnackbar","bomEvent","setbomEvent","registrations","setRegistrations","console","log","JSON","stringify","params","contentLoaded","setContentLoaded","isLoading","setIsLoading","error","setError","eventid","history","fetchData","all","get","then","response","data","bgImageStyle","background","backgroundSize","BP_Title","BP_Description","BP_Address","BP_ShowDatesOnly","BP_StartDate","BP_EndDate","BP_Reserved","BP_ReservedText","__html","sanitize","NCBM_Managed","BP_Coordinator","ShowCoordinatorEmail","ShowCoordinatorPhone","BP_Administrator","BP_ShowAdministratorEmail","BP_ShowAdministratorPhone","BP_ContactName","BP_ContactEmail","BP_ContactPhone","map","reg","RegistrationID"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport axios from \"axios\"\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport RegistrationTile from './RegistrationTile'\nimport { useSnackbar } from 'notistack';\nimport dateFormat from 'dateformat';\nimport dompurify from 'dompurify'\n\n\nconst EventDetails = (props) => {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const [bomEvent, setbomEvent] = useState([]);\n  const [registrations, setRegistrations] = useState([]);\n  console.log(JSON.stringify(props));\n  const params = useParams();\n  const [contentLoaded, setContentLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const eventid = params.eventid;\n  \n  const history = useHistory();\n \n\n  useEffect(() => {\n    const fetchData = async () => {\n    try{\n      setIsLoading(true);\n      axios.all([\n          axios.get('https://bomreactapi.azurewebsites.net/events/geteventsinfo?eventid=' + eventid),\n          axios.get('https://bomreactapi.azurewebsites.net/events/getregistrations?eventid=' + eventid)\n      ]).then(response=> {\n          setbomEvent(response[0].data);\n          setRegistrations(response[1].data);\n          enqueueSnackbar('Event fetch success');\n          setIsLoading(false);\n          setContentLoaded(true);\n      })\n          \n      }\n        catch(error){\n        setError(true);\n        setContentLoaded(false);\n        enqueueSnackbar('Event fetch failed');\n      }        \n    };\n\n    if(!contentLoaded){\n      \n      fetchData();\n      setContentLoaded(true);        \n      setIsLoading(false);\n    }\n}, []);\n\nconst bgImageStyle = {\n    background: `url(\"/Images/eventBanner.jpg\") no-repeat center center`,\n    backgroundSize: 'cover'\n}\n\n\n  return (\n<div id=\"\">\n    <div id=\"banner\" className=\"full-row\" style={bgImageStyle}>\n        <div className=\"overlay\"></div>\n        <div className=\"banner-content\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-md-12 text-white\">\n                        <h1 className=\"text-uppercase\">{bomEvent.BP_Title}</h1>\n                        <p>{bomEvent.BP_Description}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    {/* this is the blue banner bar */}\n    <div className=\"full-row light-blue\">\n        <div className=\"container-fluid\">\n          <div className=\"row text-white pt-3 mb-0 event-highlights\">\n            <div className=\"col-md-4 col pt-3 pb-2 right-divide\">\n              <h6>Location</h6>\n              <p>{bomEvent.BP_Address}</p>\n            </div>\n            <div className=\"col-md-4 col pt-3 pb-2 right-divide\">\n              <h6>Dates</h6>\n              { bomEvent.BP_ShowDatesOnly ? \n              <p>{dateFormat(bomEvent.BP_StartDate, \"dddd, mmmm dS, yyyy\") + \" - \" + dateFormat(bomEvent.BP_EndDate, \"dddd, mmmm dS, yyyy\")}</p>\n              :\n              <p>{dateFormat(bomEvent.BP_StartDate, \"dddd, mmmm dS, yyyy, h:MM:ss TT\") + \" - \" + dateFormat(bomEvent.BP_EndDate, \"dddd, mmmm dS, yyyy, h:MM:ss TT\")}</p>}\n            </div>\n            <div className=\"col-md-4 col pt-3 pb-2 right-divide\">\n              <h6> Costs</h6>\n              <p>Travel, Vehicle Rental and Some Food Costs</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* End Blue Banner Bar*/}\n      {/* White Banner Bar */}\n      <div className=\"full-row white\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-12\"> \n            { bomEvent.BP_Reserved ? \n            <div>\n                <span className=\"reserved-label\">Reserved</span><span className=\"reserved-copy\">{bomEvent.BP_ReservedText}</span>\n            </div>\n            : \n            <div>\n\n            </div> }\n              \n            </div>\n          </div>\n        </div>\n      </div>\n      {/* End White Banner Bar*/}\n      {/* Event Details Desc*/}\n      <div className=\"full-row white\">\n        <div className=\"container-fluid\">\n          <div className=\"row justify-content-between pt-4 pb-4\">\n            <div className=\"col-md-8 pb-3\">\n            {<div dangerouslySetInnerHTML={{ __html: dompurify.sanitize(bomEvent?.BP_Description) }} /> }\n            </div>\n            <div className=\"col-md-3 pb-3\">\n                { bomEvent.NCBM_Managed ? \n              <div><h6>Contact</h6>\n              <p>{bomEvent.BP_Coordinator}<br/>\n                { bomEvent.ShowCoordinatorEmail ? <Link to=\"mailto:mabernathy@ncbaptist.org\">mabernathy@ncbaptist.org</Link> : \"\" } <br/>\n                { bomEvent.ShowCoordinatorPhone ? \"(919) 459-5607\" : \"\" } </p>\n              <p>{bomEvent.BP_Administrator}<br/>\n                {bomEvent.BP_ShowAdministratorEmail ? <Link to=\"mailto:mcrawford@ncbaptist.org\">mcrawford@ncbaptist.org</Link> : \"\" }\n                {bomEvent.BP_ShowAdministratorPhone ? \"Admin Phone Number\" : \"\" }</p>\n                </div>\n                :\n                <div><h6>Contact</h6>\n              <p>{bomEvent.BP_ContactName}<br/>\n                <Link to={\"mailto:\" + bomEvent.BP_ContactEmail}>{bomEvent.BP_ContactEmail}</Link><br/>\n                {bomEvent.BP_ContactPhone} </p>\n                <small>This event is not managed by NCBM.  If you have any questions please contact the email address or phone number above.</small>\n                </div> }\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* End Event Details Desc*/}\n    <div className=\"container-fluid\">\n      { registrations.map(reg =>\n                    <RegistrationTile key={reg.RegistrationID} Registration={reg}/>\n                )}\n    </div>\n  </div>\n         ) \n}\n\n\n\nexport default EventDetails;"]},"metadata":{},"sourceType":"module"}