{"ast":null,"code":"var _jsxFileName = \"/Users/joshuaadams/Documents/BOM/src/Client/Pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSnackbar } from 'notistack';\nimport { useHistory, NavLink, useParams } from \"react-router-dom\";\nimport { useToken } from '../../Components/Hooks/useToken'; //import bomLogo from \"../Pages/img/baptists-on-mission-logo.png\"\n//import signInImg from \"../Pages/img/sign-in-page-image.jpg\"\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const params = useParams();\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [token, setToken] = useToken();\n  const history = useHistory();\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = useSnackbar();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    var isValid = username != undefined || password != undefined ? true : false;\n\n    if (!isValid) {\n      enqueueSnackbar('Please fill out the username and password');\n      return;\n    } else {\n      let response = await axios.post(\"https://bomreactapi.azurewebsites.net/login/authenticate\", {\n        username,\n        password\n      }); //console.log('This is back from server', typeof response);\n\n      if (response && response.data !== undefined) {\n        //console.log('After response', response.data);\n        setToken(response.data);\n        enqueueSnackbar(\"Login Successful\"); //have a redirect url\n\n        if (params) {\n          let redirectUrl = params.redirectUrl;\n          redirectUrl ? history.push(redirectUrl) : history.push('/events');\n        } else {\n          history.push('/events');\n        }\n      } else {\n        enqueueSnackbar(\"Whoops, something happened.  Please try again\");\n        return;\n      }\n    }\n  };\n\n  async function loginUser(username, password) {\n    axios.post(\"https://bomreactapi.azurewebsites.net/login/authenticate?\" + \"username=\" + username + \"&password=\" + password).then(data => {\n      //console.log('Server response with token:', data);\n      return data;\n    }).catch(function (err) {\n      return err;\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"b-login-holder\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page-login\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"exampleInputEmail1\",\n                  children: \"Email Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  id: \"exampleInputEmail1\",\n                  \"aria-describedby\": \"emailHelp\",\n                  placeholder: \"Email Address\",\n                  onChange: e => setUserName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"exampleInputPassword1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"exampleInputPassword1\",\n                  placeholder: \"Password\",\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"button-default button-full-width\",\n                href: \"#\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"problem-text\",\n              children: \"If you have any problems signing in, please contact us at (800) 395-5102 ext 5596\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-5\",\n              children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/createaccount\",\n                children: \"Create Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"G/4bAYTzIDKh7Qvo5Xl6MeqeY5A=\", false, function () {\n  return [useParams, useToken, useHistory, useSnackbar];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/joshuaadams/Documents/BOM/src/Client/Pages/Login.js"],"names":["React","useState","useSnackbar","useHistory","NavLink","useParams","useToken","axios","Login","params","username","setUserName","password","setPassword","token","setToken","history","enqueueSnackbar","closeSnackbar","handleSubmit","e","preventDefault","isValid","undefined","response","post","data","redirectUrl","push","loginUser","then","catch","err","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { useSnackbar } from 'notistack';\nimport { useHistory, NavLink , useParams } from \"react-router-dom\";\nimport {useToken} from '../../Components/Hooks/useToken'\n//import bomLogo from \"../Pages/img/baptists-on-mission-logo.png\"\n//import signInImg from \"../Pages/img/sign-in-page-image.jpg\"\nimport axios from 'axios'\n\n\n\n\nexport default function Login(){\n    const params = useParams();\n    const [username, setUserName]= useState();\n    const [password, setPassword] = useState();\n    const [token, setToken] = useToken();\n    const history = useHistory();\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    \n    \n    const handleSubmit = async e => {\n        e.preventDefault();\n        var isValid = (username != undefined || password !=undefined) ? true : false;\n        if(!isValid)\n        {\n          enqueueSnackbar('Please fill out the username and password')\n          return;\n        }\n        else{\n          let response = await axios.post(\"https://bomreactapi.azurewebsites.net/login/authenticate\",{username, password});\n\n          //console.log('This is back from server', typeof response);\n          if(response && response.data !== undefined)\n          {\n            //console.log('After response', response.data);\n            setToken(response.data);\n            enqueueSnackbar(\"Login Successful\");\n            //have a redirect url\n            if(params){\n              let redirectUrl = params.redirectUrl;\n              redirectUrl ? history.push(redirectUrl) : history.push('/events');\n            }\n            else{\n            history.push('/events');\n            }\n          }\n          else{\n            enqueueSnackbar(\"Whoops, something happened.  Please try again\")\n            return;\n          }\n         \n        }\n    }\n\n   async function loginUser(username, password){\n      \n       axios.post(\"https://bomreactapi.azurewebsites.net/login/authenticate?\" + \"username=\" + username + \"&password=\" + password)\n        .then(data => {\n          //console.log('Server response with token:', data);\n          return data;\n        })\n        .catch(function(err){\n          return err;\n        })\n    }\n\n    return(\n        <div className=\"col-md-12\">\n    <div>\n    <section className=\"b-login-holder\">\n      <div className=\"content\">\n        <div className=\"page-login\">\n          \n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"exampleInputEmail1\">Email Address</label>\n              <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email Address\" onChange={e=> setUserName(e.target.value)}/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"exampleInputPassword1\">Password</label>\n              <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" onChange={e=> setPassword(e.target.value)} />\n            </div>\n            <button type=\"submit\" className=\"button-default button-full-width\" href=\"#\">Sign In</button>\n          </form>\n          <p className=\"problem-text\">If you have any problems signing in, please contact us at (800) 395-5102 ext 5596</p>\n          <hr/>\n          <p className=\"mb-5\">Don't have an account? <NavLink to=\"/createaccount\">Create Account</NavLink></p>\n        </div>\n      </div>\n    </section>\n    </div>\n  </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}