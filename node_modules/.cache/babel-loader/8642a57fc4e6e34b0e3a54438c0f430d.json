{"ast":null,"code":"var _jsxFileName = \"/Users/joshuaadams/Documents/BOM/src/Client/Pages/Profile/EventsAndOpportunities.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from 'react-router-dom';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport Select from \"react-select\";\nimport EventsTile from './EventsTile';\nimport NoResults from '../../../Components/NoResults';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EventsAndOpportunities = props => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [drpCateogory, setDrpCategory] = useState();\n  const [search, setSearch] = useState('');\n  const history = useHistory();\n  const [hasFilterData, setHasFilterData] = useState();\n  const [categoriesList, setCategoriesList] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n\n      try {\n        const categoriesResult = await axios('https://bomreactapi.azurewebsites.net/events/getcategories');\n        setCategoriesList(categoriesResult.data);\n        console.log('categories list fetched from api: ', categoriesResult.data);\n        const result = await axios('https://bomreactapi.azurewebsites.net/events/getevents');\n        setData(result.data);\n        console.log(result.data);\n      } catch (error) {\n        setError(true);\n      }\n\n      setIsLoading(false); //console.log(data);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleCategoryChange = option => {\n    setDrpCategory({\n      drpCateogory: option.value\n    });\n  };\n\n  const handleSearchChange = option => {\n    setSearch(option.value);\n    let value = option.target.value.toLowerCase();\n    let result = data.filter(item => item[\"BP_Title\"].toLowerCase().includes(value) || item[\"BP_Description\"].toLowerCase().includes(value));\n    setFilteredData(arr => result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-row yellow\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row pt-4 pb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 pt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                placeholder: \"Select Categories\",\n                getOptionLabel: options => options[\"CategoryDisplayName\"],\n                getOptionValue: options => options[\"CategoryID\"],\n                options: categoriesList,\n                value: drpCateogory,\n                onChange: setDrpCategory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 pt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"search\",\n                type: \"text\",\n                maxLength: \"200\",\n                id: \"\",\n                className: \"form-control\",\n                placeholder: \"Search Events...\",\n                value: search,\n                onChange: handleSearchChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-row white\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"event-grid\",\n        children: filteredData && filteredData.length > 0 ? filteredData.map(singleEvent => /*#__PURE__*/_jsxDEV(EventsTile, {\n          Event: singleEvent,\n          Categories: categoriesList\n        }, singleEvent.EventsID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)) : filteredData.length > 0 ? /*#__PURE__*/_jsxDEV(NoResults, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 39\n        }, this) : data.map(singleEvent => /*#__PURE__*/_jsxDEV(EventsTile, {\n          Event: singleEvent,\n          Categories: categoriesList\n        }, singleEvent.EventsID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 1\n  }, this);\n};\n\n_s(EventsAndOpportunities, \"WCCCUg5NrfvtCrX8n1FmhJ4pLfU=\", false, function () {\n  return [useHistory];\n});\n\n_c = EventsAndOpportunities;\nexport default EventsAndOpportunities;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventsAndOpportunities\");","map":{"version":3,"sources":["/Users/joshuaadams/Documents/BOM/src/Client/Pages/Profile/EventsAndOpportunities.js"],"names":["React","useState","useEffect","axios","useHistory","DataGrid","GridToolbar","Select","EventsTile","NoResults","EventsAndOpportunities","props","data","setData","filteredData","setFilteredData","isLoading","setIsLoading","error","setError","drpCateogory","setDrpCategory","search","setSearch","history","hasFilterData","setHasFilterData","categoriesList","setCategoriesList","fetchData","categoriesResult","console","log","result","handleCategoryChange","option","value","handleSearchChange","target","toLowerCase","filter","item","includes","arr","options","length","map","singleEvent","EventsID"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport axios from \"axios\"\nimport { useHistory } from 'react-router-dom';\nimport { DataGrid , GridToolbar } from '@mui/x-data-grid';\nimport Select from \"react-select\";\nimport EventsTile from './EventsTile'\nimport NoResults from '../../../Components/NoResults'\n\n\nconst EventsAndOpportunities = (props) => {\n  const [data, setData] = useState([]);\n  const [filteredData,setFilteredData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [drpCateogory, setDrpCategory] = useState();\n  const [search, setSearch] = useState('');\n  const history = useHistory();\n  const [hasFilterData, setHasFilterData] = useState();\n  const [categoriesList, setCategoriesList] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try{\n          const categoriesResult = await axios('https://bomreactapi.azurewebsites.net/events/getcategories');\n          setCategoriesList(categoriesResult.data);\n          console.log('categories list fetched from api: ',categoriesResult.data);\n\n          const result = await axios(\n            'https://bomreactapi.azurewebsites.net/events/getevents',\n          );\n          setData(result.data);\n          console.log(result.data);\n      }\n        catch(error){\n        setError(true)\n      }\n \n      \n      setIsLoading(false);\n      //console.log(data);\n    };\n \n    fetchData();\n  }, []);\n\n  const handleCategoryChange = option => {\n    setDrpCategory({ drpCateogory: option.value});\n   }\n\n   const handleSearchChange = option => {\n       setSearch(option.value);\n       let value = option.target.value.toLowerCase();\n       let result = data.filter(item => \n        item[\"BP_Title\"].toLowerCase().includes(value) ||\n        item[\"BP_Description\"].toLowerCase().includes(value)\n       );\n        setFilteredData(arr => result);\n       \n   }\n\n\n  return (\n<div id=\"\">\n    <div className=\"full-row yellow\">\n        <div className=\"container-fluid\">\n            <div className=\"row pt-4 pb-4\">\n                <div className=\"col-md-6 pt-3\">\n                    <div className=\"form-group\">\n                        <Select placeholder=\"Select Categories\" getOptionLabel={options=>options[\"CategoryDisplayName\"]} getOptionValue={options=>options[\"CategoryID\"]} options={categoriesList} value={drpCateogory} onChange={setDrpCategory}/>\n                    </div>\n                </div>\n                <div className=\"col-md-6 pt-3\">\n                    <div className=\"form-group\">\n                         <input name=\"search\" type=\"text\" maxLength=\"200\" id=\"\" className=\"form-control\" placeholder=\"Search Events...\" value={search} onChange={handleSearchChange} />\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div className=\"full-row white\">\n            <ul id=\"event-grid\">  \n                { filteredData && filteredData.length > 0 ? (\n                    filteredData.map(singleEvent =>\n                        <EventsTile key={singleEvent.EventsID} Event={singleEvent} Categories={categoriesList}/>\n                    )\n\n                ) : \n                \n            filteredData.length > 0 ? <NoResults/> :\n                data.map(singleEvent =>\n                    <EventsTile key={singleEvent.EventsID} Event={singleEvent} Categories={categoriesList}/>\n                )  }\n                \n            </ul>\n    </div>\n </div>\n         ) \n}\n\n\n\nexport default EventsAndOpportunities;"]},"metadata":{},"sourceType":"module"}